Уровни изоляции

Изолированность - более сложное понятие, чем кажется на первый взгляд.
Стандарт SQL определяет четыре уровня изоляции с конкретными правилами, 
устанавливающими, какие изменения видны внутри и вне транзакции, а какие нет. 

Более низкие уровни изоляции обычно допускают большую степень совместного доступа
и вызывают меньше накладных расходов. 

Какждая подсистема хранения данных (движок бд) реализует уровни изоляции несколько по-разному, и они не обязательно
соответствуют тому, что вы ожидаете, если привыкли к другой СУБД (мы не будем вдаваться сейчас в излишние подробности).
Вам следует ознакомиться с руководствами по тем подсистемам хранения данных, которые вы решите использовать.

`READ UNCOMMITTED`
    На уровне изоляции READ UNCOMMITTED транзакции могут видеть результаты
    незафиксированных транзакций. На этом уровне вы можете столкнуться со множеством прроблем,
    если не знаете абсолютно точно, что делаете. 
    Используйте этот уровень, если у вас есть на то веские причины.
    На практике READ UNCOMMITTED используется редко, поскольку его производительность
    ненамного выше, чем у других уровней, имеющих множество преимуществ. 
    Чтение незафиксированных данных еще называют грязным чтением (dirty read).

`READ COMMITED`
    Уровнем изоляции по умолчанию для большинства СУБД (но не для MYSQL)
    является READ COMMITED. Он удолетворяет вышеприведенному простому определению
    изолированности: транзакция увидит только те изменения, которые были уже
    зафиксированны другими транзакциями к моменту ее начала, а произведенные ею изменения
    останутся невидимым для других транзакций, пока текущая транзакция не будет зафиксированна.
    На этом уровне возможен феномен невоспроизводимого чтения (nonrepeatable read), это значит что
    вы можете выполнить одну и туже команду дважды и получить различный результат.

`REPEATABLE READ`
    Уровень изоляции REPEATABLE READ  решает проблемы, которые возникают на уровне 
    READ UNCOMMITTED. Он гарантирует, что любые строки, которые считываются в контексте транзакции,
    будут выглядеть такими же, при последовательных операциях чтения в пределах
    одной и той же транзакции, однако теоретически на этом уровне возможен феномен
    фантомного чтения (phantom reads) Попросту говоря, фантомное чтение может происходить 
    в случае, если вы выбираете некоторый диапазон строк, затем другая транзакция
    вставляет новую строку в этот диапазон, после чего вы выбираете тот же диапазон снова.
    В результате вы увидите новую (фантомную) строку. В InnoDB & Falcon проблема фантомного чтения решается
    с помощью MVCC (multiversion concurrency control), о чем будет рассказано ниже в этой главе.
    REPEATABLE READ является в MySQL уровнем изоляции транзакций по умолчанию. 
    Подсистемы хранения данных InnoDB и Falcon следуют этому соглашению.

`SERIALIZABLE`
    Самый высокий уровень изоляции, SERIALIZABLE, решает проблему фантомного чтения,
    заставляя транзакции выполняться в таком порядке, чтобы исключить возможность конфликта.
    В двух словах, уровень SERIALIZABLE блокирует каждую строку, которую транзакция читает.
    На этом уровне может возникать множество задержек и конфликтов и блокировках.
    На практике данный уровень изоляции применяется достаточно редко, но потребности вашего
    приложения могут заставить вас использовать его, согласившись с меньшей степенью 
    совместного доступа в пользу стабильности данных.

_______________________________________________________________________________________________________
|    Уровень    |   Возможность    |  Возможность                |  Возможность       |  Блокировка 
|   изоляции    |   черного чтения |  невоспроизводимного чтения |  фантомного чтения |  чтения
-------------------------------------------------------------------------------------------------------



                        4 Standard Isolation Levels
                American National Standards Institue - ANSI

Low
------------(1)-------------(2)-----------(3)
           READ             READ      REPEATABLE
        UNCOMMITTED     COMMITTED      READ

Read Phenomena

DIRTY READ
    Чтение незафиксированных данных еще называют грязным чтением (dirty read).
    На уровне изоляции READ UNCOMMITTED транзакции могут видеть результаты незафиксированных транзакций.
    
    A transaction `reads data` written by other concurrent `uncommited` transaction 

NON-REPEATABLE READ
    Феномен невоспроизводимого чтения (nonrepeatable read), это значит что
    вы можете выполнить одну и туже команду дважды и получить различный результат.

    A transaction `reads` the `same row twice` and sees different value because it has
    been `modified` by other `committed` transaction

PHANTOM READ (Фантомное чтение)
    Попросту говоря, фантомное чтение может происходить в случае, 
    если вы выбираете некоторый диапазон строк, затем другая транзакция
    вставляет новую строку в этот диапазон, после чего вы выбираете тот же диапазон снова.
    В результате вы увидите новую (фантомную) строку.

    A transaction `re-executes` a query to `find rows` that satisfy a condition and
    sees a `different` set of rows, due to changes by other `commited` transaction

SERIALIZATION ANOMALY
    The result of a `group` of concurrent `committed transactions` is `impossible to
    achieve` if we try to run them `sequentially` in any order without overlapping 